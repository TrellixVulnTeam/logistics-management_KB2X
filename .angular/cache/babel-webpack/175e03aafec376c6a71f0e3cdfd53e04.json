{"ast":null,"code":"import _classCallCheck from \"/Users/apple/Desktop/LMGame/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/apple/Desktop/LMGame/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { LoginDetailsService } from './../services/login-details.service';\nimport { Router } from '@angular/router';\nimport { MatDialog } from '@angular/material';\nimport { UpdateUserComponent } from '../update-user/update-user.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"./../services/login-details.service\";\nimport * as i3 from \"@angular/material\";\nimport * as i4 from \"../admin-menu/admin-menu.component\";\nimport * as i5 from \"@angular/flex-layout/flex\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/material/core\";\nimport * as i8 from \"@angular/material/button\";\n\nfunction ExistingUsersComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"h3\", 3);\n    i0.ɵɵtext(2, \" No Records to show! \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ExistingUsersComponent_ng_container_8_tr_11_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵelementStart(8, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function ExistingUsersComponent_ng_container_8_tr_11_Template_button_click_8_listener() {\n      var restoredCtx = i0.ɵɵrestoreView(_r6);\n      var i_r4 = restoredCtx.index;\n      var ctx_r5 = i0.ɵɵnextContext(2);\n      return ctx_r5.deleteUser(i_r4);\n    });\n    i0.ɵɵtext(9, \"Delete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var record_r3 = ctx.$implicit;\n    var i_r4 = ctx.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i_r4 + 1, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", record_r3.email, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", record_r3.name, \" \");\n  }\n}\n\nfunction ExistingUsersComponent_ng_container_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"table\", 4);\n    i0.ɵɵelementStart(2, \"tr\");\n    i0.ɵɵelementStart(3, \"th\");\n    i0.ɵɵtext(4, \"S. No.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Email ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Prof Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"Operations\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(11, ExistingUsersComponent_ng_container_8_tr_11_Template, 10, 3, \"tr\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.userRecords);\n  }\n}\n\nexport var ExistingUsersComponent = /*#__PURE__*/(function () {\n  var ExistingUsersComponent = /*#__PURE__*/function () {\n    function ExistingUsersComponent(router, loginDetailsService, dialog) {\n      _classCallCheck(this, ExistingUsersComponent);\n\n      this.router = router;\n      this.loginDetailsService = loginDetailsService;\n      this.dialog = dialog;\n      this.norecordsShow = false;\n      this.userRecordsShow = true;\n      this.recordsShow = false;\n    }\n\n    _createClass(ExistingUsersComponent, [{\n      key: \"ngOnInit\",\n      value: function ngOnInit() {\n        this.getRecordsfromDatabase();\n      }\n      /**\n      * @desc Getting User login records form the database\n      **/\n\n    }, {\n      key: \"getRecordsfromDatabase\",\n      value: function getRecordsfromDatabase() {\n        var _this = this;\n\n        this.loginDetailsService.getProfLoginDetailsf().subscribe(function (loginDetails) {\n          _this.userRecords = loginDetails.map(function (data) {\n            return Object.assign({\n              id: data.payload.doc.id\n            }, data.payload.doc.data());\n          });\n\n          _this.onServerLoad();\n        });\n      }\n      /**\n      * @desc Checking whether there are records to show or not\n      **/\n\n    }, {\n      key: \"onServerLoad\",\n      value: function onServerLoad() {\n        if (this.userRecords.length == 0) this.norecordsShow = true;else this.recordsShow = true;\n        this.userRecordsShow = false;\n      }\n      /**\n      * @desc Delete User from database corresponding to uid\n      **/\n\n    }, {\n      key: \"deleteUser\",\n      value: function deleteUser(uid) {\n        var ch = prompt(\"Delete User?Y or N?\");\n        ch = ch.toLowerCase();\n\n        if (ch == 'y') {\n          this.deleteRecordfromDatabase(uid);\n          this.router.navigate(['/admin/home']);\n        }\n      }\n    }, {\n      key: \"deleteRecordfromDatabase\",\n      value: function deleteRecordfromDatabase(uid) {\n        this.loginDetailsService.deleteUserf(uid);\n        alert(\"User Deleted\");\n      }\n    }, {\n      key: \"getUserDetails\",\n      value: function getUserDetails(id) {\n        return this.userRecords[id];\n      }\n    }, {\n      key: \"openUpdateUser\",\n      value: function openUpdateUser(id) {\n        var loginDetails = this.getUserDetails(id);\n        this.dialog.open(UpdateUserComponent, {\n          width: '500px',\n          height: '450px',\n          data: loginDetails\n        });\n      }\n    }]);\n\n    return ExistingUsersComponent;\n  }();\n\n  ExistingUsersComponent.ɵfac = function ExistingUsersComponent_Factory(t) {\n    return new (t || ExistingUsersComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.LoginDetailsService), i0.ɵɵdirectiveInject(i3.MatDialog));\n  };\n\n  ExistingUsersComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ExistingUsersComponent,\n    selectors: [[\"app-existing-users\"]],\n    decls: 9,\n    vars: 2,\n    consts: [[\"fxLayout\", \"column\", \"fxLayoutGap\", \"10px\", 1, \"container\"], [\"fxFlex\", \"\"], [4, \"ngIf\"], [\"matLine\", \"\"], [\"width\", \"100%\"], [4, \"ngFor\", \"ngForOf\"], [\"mat-button\", \"\", 2, \"color\", \"red\", 3, \"click\"]],\n    template: function ExistingUsersComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"app-admin-menu\");\n        i0.ɵɵelementStart(1, \"div\", 0);\n        i0.ɵɵelementStart(2, \"div\", 1);\n        i0.ɵɵelementStart(3, \"div\");\n        i0.ɵɵelementStart(4, \"h3\");\n        i0.ɵɵtext(5, \"All Professors\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(6, \"hr\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(7, ExistingUsersComponent_div_7_Template, 3, 0, \"div\", 2);\n        i0.ɵɵtemplate(8, ExistingUsersComponent_ng_container_8_Template, 12, 1, \"ng-container\", 2);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngIf\", ctx.norecordsShow);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.recordsShow);\n      }\n    },\n    directives: [i4.AdminMenuComponent, i5.DefaultLayoutDirective, i5.DefaultLayoutGapDirective, i5.DefaultFlexDirective, i6.NgIf, i7.MatLine, i6.NgForOf, i8.MatButton],\n    styles: [\".mat-button[_ngcontent-%COMP%], .mat-flat-button[_ngcontent-%COMP%], .mat-icon-button[_ngcontent-%COMP%], .mat-stroked-button[_ngcontent-%COMP%]{min-width:44px;line-height:20px}\"]\n  });\n  return ExistingUsersComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}