{"ast":null,"code":"import _classCallCheck from \"/Users/apple/Desktop/LMGame/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/apple/Desktop/LMGame/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/fire/compat/firestore\";\nexport var SubscriptionService = /*#__PURE__*/(function () {\n  var SubscriptionService = /*#__PURE__*/function () {\n    function SubscriptionService(firestore) {\n      _classCallCheck(this, SubscriptionService);\n\n      this.firestore = firestore;\n    } // updateSubscription(subs:string,id:string)\n    // {\n    //   // This adds subscriptions to a list -> For multiple Subscriptions\n    // Here the subscription is an array \n    //   return this.firestore.collection('profLoginDetails')\n    //   .doc(id)\n    //   .update({subscription: firestore.firestore.FieldValue.arrayUnion(subs)})\n    //   .then(() => {\n    //     console.log('Prof subscription updated');\n    //   })\n    //   .catch(function(error) {\n    //    console.error('Error writing document: ', error);\n    //   });\n    // }\n\n\n    _createClass(SubscriptionService, [{\n      key: \"updateSubscription\",\n      value: function updateSubscription(subs, id) {\n        // This adds subscriptions to a list -> For multiple Subscriptions\n        try {\n          this.firestore.collection('profLoginDetails').doc(id).update({\n            subscription: subs\n          });\n          console.log('Prof subscription updated Check');\n        } catch (error) {\n          console.error('Error writing document: ', error);\n        }\n      }\n    }, {\n      key: \"addNewSubscription\",\n      value: function addNewSubscription(subscription) {\n        return this.firestore.collection('subscriptions').add(subscription).then(function (docRef) {\n          localStorage.setItem('SubId', docRef.id);\n          console.log(\"Subscription Added Successfully\");\n        }).catch(function (error) {\n          console.error(\"Error adding subs: \", error);\n        });\n      }\n    }, {\n      key: \"getAllSubscriptionById\",\n      value: function getAllSubscriptionById(id) {\n        return this.firestore.collection(\"subscriptions\", function (ref) {\n          return ref.where('profId', '==', id);\n        }).snapshotChanges();\n      }\n    }]);\n\n    return SubscriptionService;\n  }();\n\n  SubscriptionService.ɵfac = function SubscriptionService_Factory(t) {\n    return new (t || SubscriptionService)(i0.ɵɵinject(i1.AngularFirestore));\n  };\n\n  SubscriptionService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: SubscriptionService,\n    factory: SubscriptionService.ɵfac,\n    providedIn: 'root'\n  });\n  return SubscriptionService;\n})();","map":null,"metadata":{},"sourceType":"module"}